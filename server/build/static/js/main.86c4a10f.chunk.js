(this["webpackJsonpautofab-3.0"]=this["webpackJsonpautofab-3.0"]||[]).push([[0],{106:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(29),l=a.n(s),o=(a(77),a(2)),c=a(3),i=a(5),m=a(4),d=(a(78),a(79),a(80),a(81),a(82),a(23)),h=a(11),u=a(112),p=a(113),f=a(14),g=a.n(f),v=a(13),b=a(30),E=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(v.a,{onHide:this.props.closeModal,show:this.props.show},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,"Confirmation Needed")),r.a.createElement(v.a.Body,null,"Are you sure you want to log out?"),r.a.createElement(v.a.Footer,null,r.a.createElement(b.a,{onClick:this.props.handleLogout,variant:"danger"},"Yes"),r.a.createElement(b.a,{onClick:this.props.closeModal,variant:"primary"},"Cancel"),r.a.createElement(b.a,{variant:"secondary"},"Get Help")))}}]),a}(r.a.Component),y=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v.a,{onHide:this.props.closeModal,show:this.props.show},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,"Logging you out")),r.a.createElement(v.a.Body,null,"Please wait. If nothing happens, ",r.a.createElement("a",{href:"#"},"get help"),"."),r.a.createElement(v.a.Footer,null,r.a.createElement(b.a,{variant:"primary"},"Get Help"))))}}]),a}(r.a.Component),j=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v.a,{show:this.props.show,backdrop:"static"},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,"Processing")),r.a.createElement(v.a.Body,null,"Please wait. If nothing happens, ",r.a.createElement("a",{href:"#"},"get help"),"."),r.a.createElement(v.a.Footer,null,r.a.createElement(b.a,{variant:"primary"},"Get Help"))))}}]),a}(r.a.Component),x=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v.a,{onHide:this.props.closeModal,show:this.props.show},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,"Validation Error")),r.a.createElement(v.a.Body,null,"One or more of the fields were incorrectly filled out. Please review your entries and try again"),r.a.createElement(v.a.Footer,null,r.a.createElement(b.a,{variant:"secondary"},"Help"),r.a.createElement(b.a,{onClick:this.props.closeModal,variant:"primary"},"Okay"))))}}]),a}(r.a.Component),k=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v.a,{onHide:this.props.closeModal,show:this.props.show},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,"Error")),r.a.createElement(v.a.Body,null,this.props.modalText),r.a.createElement(v.a.Footer,null,r.a.createElement(b.a,{onClick:this.props.closeModal,variant:"primary"},"Close"),r.a.createElement(b.a,{variant:"secondary"},"Get Help"))))}}]),a}(r.a.Component),O=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k,{closeModal:this.props.closeModal,show:"ErrorMsg"==this.props.modal,modalText:this.props.modalText}),r.a.createElement(x,{closeModal:this.props.closeModal,show:"ValidationError"==this.props.modal}),r.a.createElement(j,{show:"Submitting"==this.props.modal}),r.a.createElement(E,{handleLogout:this.props.handleLogout,changeModal:this.props.changeModal,closeModal:this.props.closeModal,show:"LogoutConfirmation"==this.props.modal}),r.a.createElement(y,{changeModal:this.props.changeModal,closeModal:this.props.closeModal,show:"LoggingOut"==this.props.modal}))}}]),a}(r.a.Component),N=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",{style:{padding:"10px"}},r.a.createElement("span",{style:{borderBottom:"1px solid black",fontWeight:"bold",fontSize:"30px"}},"Create a new Reservation"),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("div",{className:"alert alert-success",role:"alert"},r.a.createElement("span",{style:{fontSize:"21px"}},r.a.createElement("strong",null,"Thank you! Your Reservation has been confirmed.")),r.a.createElement("div",null,r.a.createElement("p",null,"You may now safely return to the home page. Your reservation will be visible to you if ever you need to review it or make changes to it."),r.a.createElement(b.a,{variant:"success",onClick:function(){e.props.route("/")}},"Return to Home Page"),r.a.createElement(h.a,{to:this.props.redirect})))))}}]),a}(r.a.Component),w=(a(106),a(110)),C=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleLoginFieldEdit=function(e){"email"!=e.target.name?"password"==e.target.name&&n.setState({password:e.target.value}):n.setState({email:e.target.value})},n.handleLogin=function(e){e.preventDefault(),n.setState({isLoading:!0}),g()({method:"post",url:"/auth/login",data:{email:n.state.email,password:n.state.password}}).then((function(e){n.props.route("/")})).catch((function(e){if(n.setState({isLoading:!1}),401==e.response.status)return n.setState({passwordIncorrect:!0});n.props.changeModal("ErrorMsg","An unknown error occured.")}))},n.state={isLoading:!1,email:"",password:"",passwordIncorrect:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-clean"},r.a.createElement(h.a,{to:this.props.redirect}),r.a.createElement("form",{method:"post"},r.a.createElement("h2",{className:"sr-only"},"Login Form"),r.a.createElement("div",{className:"illustration"},r.a.createElement("span",{className:"text-center",style:{fontSize:"40px"}},"Autofab 3.0")),r.a.createElement(w.a,{style:this.state.passwordIncorrect?{display:"block"}:{display:"none"},variant:"danger"},"Your username or password is incorrect. Please ",r.a.createElement(d.b,{to:"#"},"reset your password")," if this is a mistake."),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{disabled:this.state.isLoading,value:this.state.email,onChange:this.handleLoginFieldEdit,className:"form-control",type:"email",name:"email",placeholder:"Email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{disabled:this.state.isLoading,value:this.state.password,onChange:this.handleLoginFieldEdit,className:"form-control",type:"password",name:"password",placeholder:"Password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement(b.a,{disabled:this.state.isLoading,onClick:this.handleLogin,variant:"primary",block:!0,type:"submit"},this.state.isLoading?"Logging you in...":"Log In"),r.a.createElement(d.b,{style:this.state.isLoading?{pointerEvents:"none"}:{},to:"#",className:"btn btn-primary btn-block",type:"submit"},"How do I get an Account?")),r.a.createElement(d.b,{style:this.state.isLoading?{pointerEvents:"none"}:{},to:"#",className:"forgot",href:"#"},"Forgot your email or password?"),r.a.createElement("br",null),r.a.createElement(d.b,{style:this.state.isLoading?{pointerEvents:"none"}:{},to:"#",className:"forgot",href:"#"},"Login Help")))}}]),a}(r.a.Component),M=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, shrink-to-fit=no"}),r.a.createElement("title",null,"server error"),r.a.createElement("link",{rel:"stylesheet",href:"assets/bootstrap/css/bootstrap.min.css"}),r.a.createElement("link",{rel:"stylesheet",href:"assets/fonts/font-awesome.min.css"}),r.a.createElement("link",{rel:"stylesheet",href:"assets/css/styles.css"}),r.a.createElement("div",{className:"jumbotron",style:{backgroundColor:"rgb(133,27,25)",borderRadius:0}},r.a.createElement("h1",{style:{color:"white"}},r.a.createElement("i",{className:"fa fa-times p-4"}),"You had one Job!"),r.a.createElement("p",{style:{color:"white"}},"We we know \u2013\u2013 sorry! Whatever you were doing that got you to this page probably didn't work. If the issue persists, please contact your administrator to inform them as soon as possible.")),r.a.createElement(h.a,{to:this.props.redirect}))}}]),a}(r.a.Component),L=a(40),D=a(21),S=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(L.a,{variant:"light",expand:"lg",className:"text-uppercase",id:"mainNav",style:{backgroundColor:"#d00017"}},r.a.createElement(D.a,null,r.a.createElement(L.a.Brand,null,"Autofab 3.0"),r.a.createElement(L.a.Toggle,{"data-toggle":"collapse","data-target":"#navbarResponsive",className:"text-white navbar-toggler-right text-uppercase text-white rounded","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("i",{className:"fa fa-bars"})),r.a.createElement(L.a.Collapse,{className:"collapse navbar-collapse",id:"navbarResponsive"},r.a.createElement("div",{className:"ml-auto"},r.a.createElement(D.a,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col text-center"},r.a.createElement("span",{className:"text-center",style:{color:"rgb(255,255,255)",fontSize:"28px"}},"ADMIN"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col text-center"},r.a.createElement("span",{onClick:this.props.logoutClicked,style:{color:"rgb(255,255,255)"}},"Log Out")),r.a.createElement("div",{className:"col text-center my-auto",style:{verticalAlign:"middle"}},r.a.createElement("span",{style:{color:"rgb(255,255,255)"}},"Admin Panel"))))))))}}]),a}(r.a.Component),A=a(26),T=a(33),B=a(31),I=a(28),W=a(25),Y=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("h1",{className:"section-header"},this.props.children)}}]),a}(r.a.Component),H=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("h2",{className:"field-header",style:{fontSize:"22px",color:"rgb(91,95,99)"}},this.props.children)}}]),a}(r.a.Component),P=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:this.props.selectedMachine===this.props.machine._id?{border:"1px solid black"}:{},onClick:function(){e.props.handleMachineChange(e.props.machine._id)},className:"selection-box"},r.a.createElement("span",{className:"selection-box-text"},this.props.machine.name))}}]),a}(r.a.Component),R=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getData=function(){g.a.get("/hardware/machines/view").then((function(e){n.setState({machines:e.data}),n.state.machines.map((function(e){return r.a.createElement(P,{machine:e})}))}))},n.state={machines:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e){e.isLoggedIn!=this.props.isLoggedIn&&this.getData()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"selection-box-container"},this.state.machines.map((function(t){return r.a.createElement(P,{selectedMachine:e.props.selectedMachine,handleMachineChange:e.props.handleMachineChange,key:t._id,machine:t})})))}}]),a}(r.a.Component),U=a(10),F=a.n(U),z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"scheduled"},r.a.createElement("div",{className:"card red-border"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title",style:{fontWeight:"bold"}},"Next Up!"),r.a.createElement("h6",{className:"text-muted card-subtitle mb-2 red-text"},"This is the next reservation scheduled to take place. Not sure how this works? Consult the help documentation."),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col d-flex justify-content-center"},r.a.createElement("span",{className:"p-2 align-self-center text-center",style:{textDecoration:"underline"}},F()(this.props.reservation.start,"x").fromNow())),r.a.createElement("div",{className:"col d-flex justify-content-center",style:{verticalAlign:"middle"}},r.a.createElement("span",{className:"p-2 align-self-center text-center",style:{textDecoration:"underline"}},this.props.reservation.machine.name," (",this.props.reservation.machine.type.name,")")),r.a.createElement("div",{className:"col p-2 d-flex justify-content-center"},r.a.createElement("span",{className:"p-2 align-self-center text-center",style:{textDecoration:"underline"}},F()(this.props.reservation.start,"x").format("hh:mm A")," to ",F()(this.props.reservation.end,"x").format("hh:mm A")))),r.a.createElement("div",{className:"d-flex flex-column",style:{marginTop:"10px"}},r.a.createElement("div",{className:"p-2"},r.a.createElement("span",{className:"text-center red-fill p-2",style:{display:"block",fontWeight:"bold"}},"Edit")),r.a.createElement("div",{className:"p-2"},r.a.createElement("span",{className:"text-center red-fill p-2",style:{display:"block",fontWeight:"bold"}},"Cancel")),r.a.createElement("div",null)))),r.a.createElement("div",{className:"d-flex justify-content-center",style:{marginTop:"10px"}},r.a.createElement("div",{className:"d-flex flex-column p-2",style:{display:"block",fontWeight:"bold"}},r.a.createElement("div",null,r.a.createElement("span",null,"But wait, there's more!")),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{className:"btn btn-primary btn-danger",type:"button"},"See All")))))}}]),a}(r.a.Component),_=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a),n=t.call(this,e);var r=F()().valueOf();return n.state={interval:null,displayTime:n.props.reservation.start_expires-r},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){var t=F()().valueOf(),a=e.props.reservation.start_expires-t;e.setState({displayTime:a}),a<=0&&e.props.startedNoUserConf()}),1e3);this.setState({interval:t})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.interval)}},{key:"render",value:function(){return r.a.createElement("div",{className:"starting card green-fill"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title white-text",style:{fontWeight:"bold"}},"Your turn!"),r.a.createElement("h6",{className:"text-muted card-subtitle mb-2 white-text"},"A resevation you have scheduled is starting right now! Please mark it as started so we know you're there!"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("span",{className:"p-2",style:{fontSize:"20px",color:"rgb(208, 0, 23)",backgroundColor:"white"}},r.a.createElement("i",{className:"fa fa-warning p-2"}),"Warning: You have ",F()(this.state.displayTime,"x").format("HH:mm:ss")," until your reservation is automatically cancelled!")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col d-flex justify-content-center",style:{verticalAlign:"middle"}},r.a.createElement("span",{className:"p-2 align-self-center text-center white-text",style:{textDecoration:"underline"}},this.props.reservation.machine.name," (",this.props.reservation.machine.type.name,")")),r.a.createElement("div",{className:"col p-2 d-flex justify-content-center"},r.a.createElement("span",{className:"p-2 align-self-center text-center white-text",style:{textDecoration:"underline"}},F()(this.props.reservation.start,"x").format("hh:mm A")," to ",F()(this.props.reservation.end,"x").format("hh:mm A")))),r.a.createElement("div",{className:"d-flex flex-column",style:{marginTop:"10px"}},r.a.createElement("div",{onClick:this.props.markStarted,className:"p-2"},r.a.createElement("span",{className:"text-center p-2 green-button",style:{display:"block",fontWeight:"bold"}},"Start")),r.a.createElement("div",{className:"p-2"},r.a.createElement("span",{className:"text-center p-2 white-button",style:{display:"block",fontWeight:"bold"}},"Cancel")),r.a.createElement("div",null))))}}]),a}(r.a.Component),G=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card green-fill"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title white-text",style:{fontWeight:"bold"}},"Your turn!"),r.a.createElement("h6",{className:"text-muted card-subtitle mb-2 white-text"},"A resevation you have scheduled is starting right now! Please mark it as started so we know you're there!"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col d-flex justify-content-center",style:{verticalAlign:"middle"}},r.a.createElement("span",{className:"p-2 align-self-center text-center white-text",style:{textDecoration:"underline"}},"Laser Cutter")),r.a.createElement("div",{className:"col p-2 d-flex justify-content-center"},r.a.createElement("span",{className:"p-2 align-self-center text-center white-text",style:{textDecoration:"underline"}},"8:00 AM to 9:00 AM"))),r.a.createElement("div",{className:"d-flex flex-column",style:{marginTop:"10px"}},r.a.createElement("div",{className:"p-2"},r.a.createElement("span",{className:"text-center red-fill p-2 green-button",style:{display:"block",fontWeight:"bold"}},"Start")),r.a.createElement("div",{className:"p-2"},r.a.createElement("span",{className:"text-center red-fill p-2 white-button",style:{display:"block",fontWeight:"bold"}},"Cancel")),r.a.createElement("div",null))))}}]),a}(r.a.Component),V=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card red-fill"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title",style:{fontWeight:"bold"}},r.a.createElement("i",{className:"fa fa-exclamation-circle p-2"}),"Uh-Oh!"),r.a.createElement("h6",{className:"text-muted card-subtitle white-text p-2",style:{fontSize:"20px"}},"You did not mark your reservation as started. As a result, it was cancelled, and your spot may or may not have been given to another student."),r.a.createElement("div",{className:"white-fill"},r.a.createElement("span",{className:"red-text"},r.a.createElement("i",{className:"fa fa-minus p-2"}),"You have been given ",r.a.createElement("strong",null,this.props.reservation.blocks.length)," ",1==this.props.reservation.blocks.length?"strike":"strikes"," for this incident")),r.a.createElement("div",{className:"row p-2"},r.a.createElement("div",{className:"col d-flex justify-content-center"},r.a.createElement("span",{className:"p-2 align-self-center text-center",style:{textDecoration:"line-through"}},"March 7th 2020")),r.a.createElement("div",{className:"col d-flex justify-content-center",style:{verticalAlign:"middle"}},r.a.createElement("span",{className:"p-2 align-self-center text-center",style:{textDecoration:"line-through"}},"Laser Cutter")),r.a.createElement("div",{className:"col p-2 d-flex justify-content-center"},r.a.createElement("span",{className:"p-2 align-self-center text-center",style:{textDecoration:"line-through"}},"8:00 AM to 9:00 AM"))),r.a.createElement("div",{className:"d-flex flex-column",style:{marginTop:"10px"}},r.a.createElement("div",null)),r.a.createElement("span",null,"If you believe this was a mistake, please contact your administrator as soon as possible. Please note that too many strikes may result in account suspension.")))}}]),a}(r.a.Component),J=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"systemerror"},r.a.createElement("div",{className:"card orange-fill"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title white-text",style:{fontWeight:"bold"}},r.a.createElement("i",{className:"fa fa-times p-2"}),"You're not supposed to be seeing this..."),r.a.createElement("h6",{className:"text-muted card-subtitle white-text p-2",style:{fontSize:"20px"}},"The reservation system is currently experiencing difficulties with the reservation shown below. Please report this error so we can take a look and inform your administrator as soon as pssible to avoid any problems."),r.a.createElement("div",{className:"white-fill"}),r.a.createElement("div",{className:"row p-2"},r.a.createElement("div",{className:"col d-flex justify-content-center"},r.a.createElement("span",{className:"p-2 align-self-center text-center text-white"},r.a.createElement("i",{className:"fa fa-warning p-2"}),F()(this.props.reservation.start,"x").format("dddd MMM Do yyyy"))),r.a.createElement("div",{className:"col d-flex justify-content-center",style:{verticalAlign:"middle"}},r.a.createElement("span",{className:"p-2 align-self-center text-center text-white"},r.a.createElement("i",{className:"fa fa-warning p-2"}),"Laser Cutter")),r.a.createElement("div",{className:"col p-2 d-flex justify-content-center"},r.a.createElement("span",{className:"p-2 align-self-center text-center text-white"},r.a.createElement("i",{className:"fa fa-warning p-2"}),"8:00 AM to 9:00 AM"))))))}}]),a}(r.a.Component),$=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).markStarted=function(){n.props.setLoading(!0),g()({url:"/res/mark/started",method:"post"}).then((function(e){n.props.setLoading(!1),n.setState({status:1})})).catch((function(e){n.props.setLoading(!1),n.props.changeModal("ErrorMsg","An unexpected error occured")}))},n.startedNoUserConf=function(){n.setState({status:6})},n.state={status:null},n}return Object(c.a)(a,[{key:"render",value:function(){var e=F()().valueOf();return 1==this.props.reservation.status||1==this.state.status?r.a.createElement(G,{reservation:this.props.reservation}):this.props.reservation.start<=e&&this.props.reservation.start_expires>=e?r.a.createElement(_,{startedNoUserConf:this.startedNoUserConf,reservation:this.props.reservation}):0==this.props.reservation.status&&this.props.reservation.start>e&&this.props.reservation.start_expires>e?r.a.createElement(z,{reservation:this.props.reservation}):6==this.props.reservation.status||6==this.state.status?r.a.createElement(V,{reservation:this.props.reservation}):r.a.createElement(J,{reservation:this.props.reservation})}}]),a}(r.a.Component),q=a(111),K=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setLoading=function(e){n.setState({loading:e})},n.state={reservation:null,loading:!0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;g()({url:"/res/view/next",method:"get"}).then((function(t){e.setState({reservation:t.data,loading:!1})})).catch((function(t){if(e.setState({loading:!1}),t.response&&401==t.response.status)return e.props.handle401();t.response&&400==t.response.status||e.props.handle500()}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"My Reservations"),this.state.loading?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(q.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):this.state.reservation?r.a.createElement($,{setLoading:this.setLoading,changeModal:this.props.changeModal,reservation:this.state.reservation}):r.a.createElement("p",null,"You have no reservations in your name. Make a new reservation to get started! Not sure how? Check the help documentation.."))}}]),a}(r.a.Component),Q=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement(D.a,null,r.a.createElement(I.a,null,r.a.createElement(W.a,{md:6},r.a.createElement(Y,null,"Reserve"),r.a.createElement(H,null,"Why?"),r.a.createElement("textarea",{onChange:this.props.handleChange,value:this.props.justificaton,defaultValue:""}),r.a.createElement(H,null,"Choose a Machine"),r.a.createElement(R,{isLoggedIn:this.props.isLoggedIn,selectedMachine:this.props.selectedMachine,handleMachineChange:this.props.handleMachineChange})),r.a.createElement(W.a,{md:6},r.a.createElement(K,{handle500:this.props.handle500,handle401:this.props.handle401,changeModal:this.props.changeModal})))))}}]),a}(r.a.Component),X=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:this.props.selectedBlocks.includes(this.props.index)||0==this.props.selectedBlocks.length?{border:"1px solid black"}:{border:"1px dotted black"},onClick:function(){e.props.handleBlocksChange(e.props.index)},className:"selection-box time-selection"},r.a.createElement("span",{className:"text-center selection-box-text",style:{height:"auto"}},F()(this.props.display.start,"x").format("hh:mm A")," to ",F()(this.props.display.end,"x").format("hh:mm A")))}}]),a}(r.a.Component),Z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).signal=g.a.CancelToken.source(),n.state={displayBlocks:[]},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;(null!=this.props.formData.machine&&null!=this.props.formData.date&&this.props.formData!==e.formData||e.isLoggedIn!=this.props.isLoggedIn)&&g.a.get("/blocks/view",{params:{machine:this.props.formData.machine,date:this.props.formData.date},cancelToken:this.signal.token}).then((function(e){console.log("Reloading!",e),t.setState({displayBlocks:e.data})})).catch((function(e){499!=e.message&&401==e.response.status&&t.props.handle401()}))}},{key:"componentWillUnmount",value:function(){this.signal.cancel(499)}},{key:"render",value:function(){var e=this;return r.a.createElement(D.a,null,r.a.createElement(I.a,null,r.a.createElement(W.a,{md:"12"},r.a.createElement(H,null,"Choose a Time Block"),this.state.displayBlocks.map((function(t){return r.a.createElement(X,{selectedBlocks:e.props.formData.blocks,handleBlocksChange:e.props.handleBlocksChange,index:t.index,key:t.index,display:{start:F()(t.start).format("x"),end:F()(t.end).format("x")}})})))))}}]),a}(r.a.Component),ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(D.a,null,r.a.createElement(I.a,null,r.a.createElement(W.a,null,r.a.createElement("button",{className:"btn btn-danger submit-button",type:"button",onClick:this.props.handleSubmit,style:{marginTop:"10px",marginLeft:0}},"Reserve"))))}}]),a}(r.a.Component),te=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:this.props.selectedDate==this.props.day.raw?{border:"1px solid black"}:{},onClick:function(){return e.props.handleDateChange(e.props.day.raw)},className:"selection-box time-selection"},r.a.createElement("span",{className:"selection-box-text"},this.props.day.date))}}]),a}(r.a.Component),ae=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getData=function(){g.a.get("/blocks/days/view").then((function(e){n.setState({days:e.data})})).catch((function(e){401==e.response.status&&n.props.handle401()}))},n.state={days:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e){e.isLoggedIn!=this.props.isLoggedIn&&this.getData()}},{key:"render",value:function(){var e=this;return r.a.createElement(D.a,null,r.a.createElement(I.a,null,r.a.createElement(W.a,{md:"12"},r.a.createElement(H,null,"Choose a Date"),this.state.days.map((function(t){return r.a.createElement(te,{selectedDate:e.props.selectedDate,handleDateChange:e.props.handleDateChange,key:t,day:{date:F()(t,"MM/DD/YYYY").format("MMM Do YY"),raw:t}})})))))}}]),a}(r.a.Component),ne=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n,r;return Object(o.a)(this,a),(r=t.call(this,e)).handle401=function(){r.props.route("/login")},r.handle500=function(){r.props.route("/servererror")},r.state=(n={machine:null,blocks:[],date:null,justification:null,isLoading:!1,isLoggedIn:!0},Object(T.a)(n,"isLoggedIn",!0),Object(T.a)(n,"email",""),Object(T.a)(n,"password",""),Object(T.a)(n,"passwordIncorrect",!1),Object(T.a)(n,"modal",null),n),r.handleMachineChange=r.handleMachineChange.bind(Object(B.a)(r)),r.handleBlocksChange=r.handleBlocksChange.bind(Object(B.a)(r)),r.handleDateChange=r.handleDateChange.bind(Object(B.a)(r)),r.handleChange=r.handleChange.bind(Object(B.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(B.a)(r)),r}return Object(c.a)(a,[{key:"handleSubmit",value:function(){var e=this;null!=this.state.machine&&0!=this.state.blocks.length&&null!=this.state.date&&null!=this.state.justification?(this.props.changeModal("Submitting"),g()({method:"post",url:"/res/new",data:{machine:this.state.machine,blocks:this.state.blocks,date:this.state.date,description:this.state.justification}}).then((function(t){e.props.closeModal(),e.props.route("/confirmation")})).catch((function(t){e.props.changeModal("ErrorMsg","An error occured. Your reservation could not be completed. Please try again later or consult the help documentation.")}))):this.props.changeModal("ValidationError")}},{key:"handleChange",value:function(e){console.log("clicked!"),console.log(e),this.setState(Object(A.a)(Object(A.a)({},this.state),{},{justification:e.target.value}))}},{key:"handleMachineChange",value:function(e){this.setState(Object(A.a)(Object(A.a)({},this.state),{},{machine:e})),console.log(this.state.machine)}},{key:"handleBlocksChange",value:function(e){var t=this.state.blocks;if(null===t&&(t=[]),t.includes(e))for(var a=0;a<t.length;a++){t[a]===e&&(0===a?t.shift():t.splice(a,t.length))}else if(0!=t.length){var n=t[t.length-1]+1,r=t[0]-1;r<0&&(r=0),e!==n&&e!==r||(t.push(e),t.sort((function(e,t){return e-t})))}else t.push(e);this.setState(Object(A.a)(Object(A.a)({},this.state),{},{blocks:t})),console.log(this.state.blocks)}},{key:"handleDateChange",value:function(e){this.setState(Object(A.a)(Object(A.a)({},this.state),{},{date:e}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h.a,{to:{pathname:this.props.redirect,state:{machine:this.state.machine,date:this.state.date,blocks:this.state.blocks,justification:this.state.justification}}}),r.a.createElement(Q,{handle500:this.handle500,changeModal:this.props.changeModal,handle401:this.handle401,isLoggedIn:this.state.isLoggedIn,handleChange:this.handleChange,justification:this.props.justification,selectedMachine:this.state.machine,handleMachineChange:this.handleMachineChange}),r.a.createElement(ae,{handle401:this.handle401,isLoggedIn:this.state.isLoggedIn,selectedDate:this.state.date,handleDateChange:this.handleDateChange}),r.a.createElement(Z,{handle401:this.handle401,isLoggedIn:this.state.isLoggedIn,handleBlocksChange:this.handleBlocksChange,formData:this.state}),r.a.createElement(ee,{handleSubmit:this.handleSubmit}))}}]),a}(r.a.Component),re=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).logoutClicked=function(){n.changeModal("LogoutConfirmation")},n.handleLogout=function(){n.changeModal("LoggingOut"),g()({method:"post",url:"/auth/logout"}).then((function(e){n.closeModal(),n.route("/login")})).catch((function(e){n.changeModal("ErrorMsg","An unexpected error occured and we were unable to log you out")}))},n.closeModal=function(){n.setState({modal:null})},n.changeModal=function(e,t){n.setState({modal:e,modalText:t})},n.route=function(e){n.setState({redirect:e})},n.state={modal:null,modalText:"",redirect:"/"},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(u.a,null,r.a.createElement(d.a,null,r.a.createElement(S,{logoutClicked:this.logoutClicked}),r.a.createElement(O,{modalText:this.state.modalText,handleLogout:this.handleLogout,changeModal:this.changeModal,closeModal:this.closeModal,modal:this.state.modal}),r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Montserrat:400,700"}),r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic"}),r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/confirmation"},r.a.createElement(N,{route:this.route,redirect:this.state.redirect})),r.a.createElement(h.b,{path:"/login"},r.a.createElement(C,{route:this.route,redirect:this.state.redirect,closeModal:this.closeModal,changeModal:this.changeModal})),r.a.createElement(h.b,{path:"/servererror"},r.a.createElement(M,{route:this.route,redirect:this.state.redirect})),r.a.createElement(h.b,{path:"/",render:function(){return r.a.createElement(ne,{route:e.route,redirect:e.state.redirect,changeModal:e.changeModal,closeModal:e.closeModal,getReservationConfirmation:e.getReservationConfirmation,cookies:e.props.cookies})}}))))}}]),a}(r.a.Component),se=Object(p.a)(re);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},72:function(e,t,a){e.exports=a(108)},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.86c4a10f.chunk.js.map